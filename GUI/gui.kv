#:kivy 1.11
#:import MeshLinePlot kivy.garden.graph.MeshLinePlot

<Home>:
    padding: 5
    spacing:5
    orientation: "horizontal"

    com: _com                           
    conn_bt: _conn_bt

    fsr: _fsr                           
    sf: _sf
    tf: _tf
    esav: _esav 

    msg: _msg

    st_bt: _st_bt
    pr_bt: _pr_bt
    up_bt: _up_bt

    x_data: _x_data
    y_data: _y_data
    z_data: _z_data
    t_data: _t_data

    BoxLayout:                          #connection part
        spacing: 5
        size_hint: (.3,1)
        orientation: "vertical"
        BoxLayout: 
            spacing:5
            size_hint: (1,.2)                       
            Spinner:
                id: _com
                text: "Ports"
            Button:
                id: _conn_bt
                text: "Connect"
                disabled: True
                on_press: root.Connect()
        
        BoxLayout:                         #setting part
            spacing: 5
            orientation: "vertical"
            Button:
                id: _st_bt
                text:"Start"
                on_press: root.Work()
                disabled:True
            Button:
                id: _pr_bt
                text:"Print data"
                disabled:True
                on_press: root.Print()
            Button:
                id: _up_bt
                text:"Change Settings"
                disabled:True
                on_press: root.ChangeSettings()
            BoxLayout:
                Label:
                    text: 'Full Scale Range'
                    text_size: self.size
                    halign: "center"
                    valign: "center"
                Spinner:
                    id: _fsr
                    text: '+-2g'
                    values: ('+-2g','+-4g','+-8g','+-16g')
                    disabled:True
            BoxLayout:
                Label:
                    text: 'Sampling Frequency'
                    text_size: self.size
                    halign: "center"
                    valign: "center"
                Spinner:
                    id: _sf
                    text: '1Hz'
                    values: ('1Hz','10Hz','25Hz','50Hz')
                    disabled:True
            BoxLayout:
                Label:
                    text: 'Temperature Format'
                    text_size: self.size
                    halign: "center"
                    valign: "center"
                Spinner:
                    id: _tf
                    text: 'Celsius'
                    values: ('Celsius','Fahrenheit')
                    disabled:True
            BoxLayout:
                Label:
                    text: 'Save data to EEPROM'
                    text_size: self.size
                    halign: "center"
                    valign: "center"
                Spinner:
                    id: _esav
                    text: 'Enable'
                    values: ('Enable','Disable')
                    disabled:True

    BoxLayout:                          #data visualization
        orientation: "vertical"
        BoxLayout:
            orientation:"horizontal"
            BoxLayout:
                padding: 5
                orientation: "vertical"
                Label:
                    text: "X axis acceleration"
                    bold:True
                    size_hint: (1,.1)  
                Graph:
                    padding:3
                    id: _x_data
                    x_grid:True
                    y_grid:True
                    x_ticks_major: 1
                    y_ticks_major: 1
                    x_grid_label: False
                    y_grid_label: True
                    xmin:-0.1
                    xmax:10
                    ymin:-16
                    ymax:16
            BoxLayout:
                orientation: "vertical"
                padding: 5
                Label:
                    text:"Y axis acceleration"
                    bold:True
                    size_hint: (1,.1)
                Graph:
                    padding:5
                    id: _y_data
                    x_grid:True
                    y_grid:True
                    x_ticks_major: 1
                    y_ticks_major: 1
                    x_grid_label: False
                    y_grid_label: True
                    xmin:-0.1
                    xmax:10
                    ymin:-16
                    ymax:16
        BoxLayout:
            orientation:"horizontal"
            BoxLayout:
                padding: 5
                orientation: "vertical"
                Label:
                    text:"Z axis acceleration"
                    bold:True
                    size_hint: (1,.1)
                Graph:
                    padding:3
                    id: _z_data
                    x_grid:True
                    y_grid:True
                    x_ticks_major: 1
                    y_ticks_major: 1
                    x_grid_label: False
                    y_grid_label: True
                    xmin:-0.1
                    xmax:10
                    ymin:-16
                    ymax:16
            BoxLayout:
                padding: 5
                orientation: "vertical"
                Label:
                    text:"Temperature"
                    bold:True
                    size_hint: (1,.1)
                Graph:
                    padding:3
                    id: _t_data
                    x_grid:True
                    y_grid:True
                    x_ticks_major: 1
                    y_ticks_major: 100
                    x_grid_label: False
                    y_grid_label: True
                    xmin:-0.1
                    xmax:10
                    ymin:0
                    ymax:1000
        ScrollView:
            padding: 5
            size_hint:(1,.25)
            scrool_y:True
            scrool_x:False
            canvas.before:
                Color:  
                    rgba: 1, 1, 1, 1  
                Rectangle:  
                    pos: self.pos  
                    size: self.size
            Label:
                id: _msg
                text: "Welcome, connect device and select port to start" 
                color: (0,0,0,1)
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1] 